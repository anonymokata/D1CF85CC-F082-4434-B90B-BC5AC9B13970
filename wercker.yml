# This references a standard debian container from the
# Docker Hub https://registry.hub.docker.com/_/debian/
# Read more about containers on our dev center
# http://devcenter.wercker.com/docs/containers/index.html
box:
  id: stoom/ubuntu

# This is the build pipeline. Pipelines are the core of wercker
# Read more about pipelines on our dev center
# http://devcenter.wercker.com/docs/pipelines/index.html
build:
  steps:
#    - script:
#        name: update packages
#        code: apt-get update
#
    - install-packages:
        packages: check

    - script:
        name: compile
        code: |
            cmake .
            make

    - script:
          name: run tests
          code: |
              cd $WERCKER_SOURCE_DIR
              tests/TestFalconCalc